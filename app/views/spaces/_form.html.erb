<div class="form-style">
  <%= simple_form_for(@space) do |f| %>
    <%= f.input :name, placeholder: "Remix Coworking" %>
    <%= f.input :address, placeholder: "24 Cour des Petites Ecuries Paris 10e", input_html: { id: 'special' } %>
    <%= f.input :description, placeholder: "Ce très grand espace est un mix de design chaleureux, actuel et industriel" %>
    <%= f.input :capacity, placeholder: "80 (nombre de postes)" %>
    <%= f.input :price, placeholder: "420 (par poste en €/mois)" %>
    <%= f.input :photo %>
    <%= f.input :photo_cache, as: :hidden %>
    <%= f.button :submit, class: "btn btn-light"  %>
  <% end %>
</div>


<% content_for(:after_js) do %>

  <script src="https://maps.googleapis.com/maps/api/js?libraries=places&amp;key=AIzaSyD_QRGa5exveYj-Pv0oLAJGcnrWLf-FPC0"></script>
  <script>

    var flat_address = $('#special').get(0);

    if (flat_address) {
      var autocomplete = new google.maps.places.Autocomplete(flat_address, { types: ['geocode'] });
      google.maps.event.addDomListener(flat_address, 'keydown', function(e) {
        if (e.keyCode == 13) {
          e.preventDefault(); // Do not submit the form on Enter.
        }
      });
    }
  </script>
<% end %>
